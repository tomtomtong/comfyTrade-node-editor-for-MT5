<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Primary SEO Meta Tags -->
  <title>AI Trade Agent - Free Open Source MT5 Node-Based Trading Strategy Builder | Visual Forex Automation</title>
  <meta name="title" content="AI Trade Agent - Free Open Source MT5 Node-Based Trading Strategy Builder | Visual Forex Automation">
  <meta name="description" content="AI Trade Agent is a free, open-source visual trading strategy builder for MetaTrader 5. Create automated forex trading strategies with drag-and-drop nodes - no coding required. Features backtesting, risk management, and real-time alerts.">
  <meta name="keywords" content="MT5, MetaTrader 5, trading bot, strategy builder, node editor, forex automation, algorithmic trading, open source trading, visual programming, trading strategy, forex robot, EA builder, expert advisor, backtesting, paper trading, risk management, trading alerts, AI Trade Agent, automated trading, forex signals, technical indicators, moving average, RSI, trading simulator, financial technology, fintech, AI trading">
  <meta name="author" content="AI Trade Agent Community">
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
  <meta name="googlebot" content="index, follow">
  <meta name="bingbot" content="index, follow">
  <meta name="language" content="English">
  <meta name="geo.region" content="US">
  <meta name="geo.placename" content="Global">
  <meta name="distribution" content="global">
  <meta name="rating" content="general">
  <meta name="revisit-after" content="7 days">
  <link rel="canonical" href="https://ai-trade-agent.com/">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://ai-trade-agent.com/">
  <meta property="og:title" content="AI Trade Agent - Free Open Source MT5 Node-Based Trading Strategy Builder">
  <meta property="og:description" content="Create automated forex trading strategies with drag-and-drop visual nodes. Free, open-source, no coding required. Connect to MetaTrader 5 for live trading.">
  <meta property="og:image" content="https://ai-trade-agent.com/og-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:site_name" content="AI Trade Agent">
  <meta property="og:locale" content="en_US">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://ai-trade-agent.com/">
  <meta name="twitter:title" content="AI Trade Agent - Free Open Source MT5 Node-Based Trading Strategy Builder">
  <meta name="twitter:description" content="Create automated forex trading strategies with drag-and-drop visual nodes. Free, open-source, no coding required.">
  <meta name="twitter:image" content="https://ai-trade-agent.com/og-image.png">

  <!-- Additional SEO Meta Tags -->
  <meta name="application-name" content="AI Trade Agent">
  <meta name="theme-color" content="#1a1a2e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="AI Trade Agent">
  
  <!-- Additional Social Media Meta Tags -->
  <meta property="og:image:alt" content="AI Trade Agent visual node editor interface showing trading strategy builder">
  <meta property="og:image:type" content="image/png">
  <meta name="twitter:image:alt" content="AI Trade Agent visual node editor interface showing trading strategy builder">
  <meta name="twitter:creator" content="@AITradeAgent">
  <meta name="twitter:site" content="@AITradeAgent">
  
  <!-- Search Engine Specific Meta Tags -->
  <meta name="msapplication-TileColor" content="#1a1a2e">
  <meta name="msapplication-config" content="/browserconfig.xml">
  <meta name="format-detection" content="telephone=no">
  
  <!-- Preconnect for Performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="preconnect" href="https://github.com">
  
  <!-- Favicon and Icons -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  
  <!-- Software Application Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "AI Trade Agent",
    "alternateName": ["AI Trade Agent MT5 Node Editor", "MT5 Strategy Builder", "AI Trade Agent Trading Bot Builder"],
    "applicationCategory": "FinanceApplication",
    "applicationSubCategory": "Trading Software",
    "operatingSystem": ["Windows", "macOS", "Linux"],
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD",
      "availability": "https://schema.org/InStock"
    },
    "description": "AI Trade Agent is a free, open-source visual trading strategy builder for MetaTrader 5. Build automated forex trading strategies using drag-and-drop nodes without writing code. Features include backtesting, risk management, SMS/WhatsApp alerts, and real-time MT5 integration.",
    "featureList": [
      "Visual node-based strategy builder",
      "MetaTrader 5 integration",
      "Historical data backtesting",
      "Risk management tools",
      "SMS and WhatsApp alerts via Twilio",
      "Paper trading simulator",
      "Custom plugin system",
      "Market sentiment analysis",
      "Trade journal and analytics",
      "Technical indicators (MA, RSI)",
      "Real-time price data",
      "Position management",
      "Volume control and overtrade protection"
    ],
    "screenshot": "https://ai-trade-agent.com/og-image.png",
    "softwareVersion": "1.0.0",
    "datePublished": "2024-01-01",
    "dateModified": "2024-01-01",
    "author": {
      "@type": "Organization",
      "name": "AI Trade Agent Community",
      "url": "https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5"
    },
    "license": "https://opensource.org/licenses/MIT",
    "downloadUrl": "https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5/releases",
    "installUrl": "https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5/releases",
    "releaseNotes": "https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5/releases",
    "softwareHelp": "https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5#readme",
    "isAccessibleForFree": true,
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.8",
      "ratingCount": "150",
      "bestRating": "5",
      "worstRating": "1"
    },
    "sameAs": [
      "https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5",
      "https://discord.com/invite/4EWYahsGdJ"
    ]
  }
  </script>

  <!-- WebPage Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "AI Trade Agent Web Demo - MT5 Node Editor",
    "description": "Try the web demo of AI Trade Agent, a free open-source visual trading strategy builder for MetaTrader 5. Build forex trading strategies with drag-and-drop nodes.",
    "url": "https://ai-trade-agent.com/",
    "mainEntity": {
      "@type": "SoftwareApplication",
      "name": "AI Trade Agent"
    },
    "breadcrumb": {
      "@type": "BreadcrumbList",
      "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://ai-trade-agent.com/"
      }]
    }
  }
  </script>

  <!-- FAQ Structured Data for LLM Discovery -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What is AI Trade Agent?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "AI Trade Agent is a free, open-source visual trading strategy builder for MetaTrader 5. It allows traders to create automated forex trading strategies using a drag-and-drop node-based interface without writing any code."
        }
      },
      {
        "@type": "Question",
        "name": "Is AI Trade Agent free to use?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes, AI Trade Agent is completely free and open-source under the MIT license. You can download, use, modify, and distribute it without any cost."
        }
      },
      {
        "@type": "Question",
        "name": "What platforms does AI Trade Agent support?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "AI Trade Agent desktop application runs on Windows, macOS, and Linux. There is also a web demo available for trying the node editor in your browser."
        }
      },
      {
        "@type": "Question",
        "name": "Do I need coding skills to use AI Trade Agent?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "No coding skills are required. AI Trade Agent uses a visual node-based editor where you drag and drop nodes to build trading strategies. Simply connect triggers, indicators, logic gates, and trade execution nodes to create your strategy."
        }
      },
      {
        "@type": "Question",
        "name": "What features does AI Trade Agent offer?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "AI Trade Agent offers: visual node-based strategy building, MetaTrader 5 integration for live trading, historical backtesting, paper trading simulator, risk management tools (volume limits, overtrade protection), SMS/WhatsApp alerts via Twilio, market sentiment analysis, trade journal, and a plugin system for custom nodes."
        }
      },
      {
        "@type": "Question",
        "name": "How do I connect AI Trade Agent to MetaTrader 5?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "The desktop version of AI Trade Agent connects to MetaTrader 5 through a Python bridge using the official MT5 Python API. Simply have MT5 running, click Connect in AI Trade Agent, and it will automatically establish the connection for real-time trading and data access."
        }
      },
      {
        "@type": "Question",
        "name": "What trading instruments are supported?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "AI Trade Agent supports all instruments available in your MetaTrader 5 broker, including forex pairs (EURUSD, GBPUSD, USDJPY, etc.), gold (XAUUSD), stock indices, commodities, and cryptocurrencies."
        }
      },
      {
        "@type": "Question",
        "name": "Can I backtest my trading strategies?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes, AI Trade Agent includes comprehensive backtesting capabilities. You can import historical data from MetaTrader 5 or CSV files across 8 different timeframes to test your strategies against years of market data."
        }
      }
    ]
  }
  </script>

  <!-- Organization Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "AI Trade Agent",
    "alternateName": "AI Trade Agent Community",
    "url": "https://ai-trade-agent.com",
    "logo": "https://ai-trade-agent.com/logo.png",
    "description": "Open-source community developing free visual trading tools for MetaTrader 5",
    "foundingDate": "2024",
    "contactPoint": {
      "@type": "ContactPoint",
      "email": "tomtomtongtong@gmail.com",
      "contactType": "customer support"
    },
    "sameAs": [
      "https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5",
      "https://discord.com/invite/4EWYahsGdJ"
    ]
  }
  </script>

  <!-- HowTo Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "HowTo",
    "name": "How to Build a Trading Strategy with AI Trade Agent",
    "description": "Step-by-step guide to creating automated trading strategies using AI Trade Agent's visual node editor",
    "image": "https://ai-trade-agent.com/og-image.png",
    "totalTime": "PT15M",
    "estimatedCost": {
      "@type": "MonetaryAmount",
      "currency": "USD",
      "value": "0"
    },
    "supply": [
      {
        "@type": "HowToSupply",
        "name": "AI Trade Agent Desktop Application"
      },
      {
        "@type": "HowToSupply", 
        "name": "MetaTrader 5 Terminal"
      }
    ],
    "step": [
      {
        "@type": "HowToStep",
        "name": "Download and Install",
        "text": "Download AI Trade Agent from GitHub releases and install on your computer",
        "url": "https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5/releases"
      },
      {
        "@type": "HowToStep",
        "name": "Connect to MT5",
        "text": "Launch MetaTrader 5, then open AI Trade Agent and click Connect to establish the bridge connection"
      },
      {
        "@type": "HowToStep",
        "name": "Add Trigger Node",
        "text": "Drag a Trigger node from the left panel to the canvas to start your strategy"
      },
      {
        "@type": "HowToStep",
        "name": "Add Indicators",
        "text": "Add technical indicators like Moving Average or RSI nodes and connect them to your trigger"
      },
      {
        "@type": "HowToStep",
        "name": "Add Logic",
        "text": "Use conditional check nodes and logic gates (AND/OR) to create your trading conditions"
      },
      {
        "@type": "HowToStep",
        "name": "Add Trade Execution",
        "text": "Connect trade signal nodes to execute buy/sell orders when conditions are met"
      },
      {
        "@type": "HowToStep",
        "name": "Test and Run",
        "text": "Save your strategy, test it in simulator mode, then run it live when ready"
      }
    ]
  }
  </script>

  <!-- Google Analytics 4 -->
  <script src="ga-config.js"></script>
  <script>
    // Enhanced tracking function
    function trackEvent(eventName, parameters = {}) {
      if (typeof gtag === 'function') {
        gtag('event', eventName, {
          event_category: 'ComfyTrade Demo',
          event_label: parameters.label || '',
          value: parameters.value || 0,
          ...parameters
        });
      }
    }
    
    // Track page load with enhanced source tracking
    window.addEventListener('load', () => {
      // Get URL parameters for source tracking
      const urlParams = new URLSearchParams(window.location.search);
      const utmSource = urlParams.get('utm_source');
      const utmMedium = urlParams.get('utm_medium');
      const utmCampaign = urlParams.get('utm_campaign');
      const referrer = document.referrer;
      
      trackEvent('page_view', { 
        label: 'demo_loaded',
        page_title: document.title,
        page_location: window.location.href,
        utm_source: utmSource,
        utm_medium: utmMedium,
        utm_campaign: utmCampaign,
        referrer: referrer
      });
      
      // Track specific referral sources
      if (referrer) {
        let referralSource = 'unknown';
        if (referrer.includes('github.com')) referralSource = 'github';
        else if (referrer.includes('google.com')) referralSource = 'google';
        else if (referrer.includes('twitter.com')) referralSource = 'twitter';
        else if (referrer.includes('linkedin.com')) referralSource = 'linkedin';
        else if (referrer.includes('reddit.com')) referralSource = 'reddit';
        
        trackEvent('referral_source', {
          label: referralSource,
          referrer_url: referrer
        });
      }
    });
    
    // Track user engagement time
    let startTime = Date.now();
    window.addEventListener('beforeunload', () => {
      const engagementTime = Math.round((Date.now() - startTime) / 1000);
      trackEvent('user_engagement', {
        label: 'session_duration',
        value: engagementTime
      });
    });
  </script>

  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/luxon@3.4.4/build/global/luxon.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1.3.1/dist/chartjs-adapter-luxon.umd.min.js"></script>
</head>
<body>
  <!-- Hidden SEO Content for LLMs and Search Engines -->
  <div class="seo-content" style="position:absolute;left:-9999px;top:-9999px;" aria-hidden="true">
    <h1>AI Trade Agent - Open Source MT5 Node-Based Trading Strategy Builder</h1>
    <p>AI Trade Agent is a free, open-source Electron desktop application for building visual trading strategies for MetaTrader 5 (MT5). Create automated forex trading bots without coding using our intuitive drag-and-drop node editor.</p>
    
    <h2>Key Features</h2>
    <ul>
      <li>Visual Node Editor: Build trading strategies by connecting nodes - triggers, indicators (Moving Average, RSI), logic gates (AND, OR), and trade execution</li>
      <li>MetaTrader 5 Integration: Direct connection to MT5 for real-time trading, price data, and account management</li>
      <li>Backtesting: Import historical data from MT5 or CSV files to test your strategies</li>
      <li>Paper Trading Simulator: Practice trading with simulated positions using real market data</li>
      <li>Risk Management: Volume limits, overtrade protection, pip-based loss calculations</li>
      <li>Alerts: SMS and WhatsApp notifications via Twilio for trade events</li>
      <li>Plugin System: Extend functionality with custom nodes</li>
      <li>Market Sentiment Analysis: Integrate news and sentiment data</li>
    </ul>
    
    <h2>Supported Trading Instruments</h2>
    <p>Forex pairs (EURUSD, GBPUSD, USDJPY, etc.), Gold (XAUUSD), Indices, Cryptocurrencies, and any instrument available in your MT5 broker.</p>
    
    <h2>Technology Stack</h2>
    <p>Built with Electron, Node.js, Python, and the official MetaTrader 5 Python API. Open source under MIT license.</p>
    
    <h2>Download</h2>
    <p>Download the full desktop version from GitHub: https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5/releases</p>
  </div>

  <div class="app-container">
    <!-- Large Promotional Header -->
    <header class="promo-header" role="banner">
      <div class="promo-main">
        <h1 class="promo-title">AI Trade Agent - Open Source MT5 Node Editor</h1>
        <p class="promo-subtitle">Visual Trading Strategy Builder â€¢ No Coding Required â€¢ Free & Open Source</p>
        <div class="promo-video-container">
          <div class="youtube-embed-container-promo">
            <iframe 
              class="youtube-embed-promo"
              src="https://www.youtube.com/embed/M4PLVVUaQo8" 
              title="ComfyTrade Demo Video"
              frameborder="0" 
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
              allowfullscreen>
            </iframe>
          </div>
        </div>
        <div class="promo-cta-large">
          <a href="https://www.youtube.com/watch?v=M4PLVVUaQo8&feature=youtu.be" target="_blank" rel="noopener noreferrer" class="cta-btn cta-btn-youtube">
            <span class="cta-text">
              <strong>Watch on YouTube</strong>
              <small>Open in YouTube for full screen viewing</small>
            </span>
          </a>
          <a href="https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5" target="_blank" rel="noopener noreferrer" class="cta-btn cta-btn-github">
            <span class="cta-text">
              <strong>View Full Project on GitHub</strong>
              <small>Download desktop version with real MT5 integration</small>
            </span>
          </a>
          <a href="https://discord.com/invite/4EWYahsGdJ" target="_blank" rel="noopener noreferrer" class="cta-btn cta-btn-discord">
            <span class="cta-text">
              <strong>Join Discord Community</strong>
              <small>Get help, share strategies, connect with traders</small>
            </span>
          </a>
          <a href="mailto:tomtomtongtong@gmail.com" class="cta-btn cta-btn-contact">
            <span class="cta-text">
              <strong>Get Support</strong>
              <small>tomtomtongtong@gmail.com</small>
            </span>
          </a>
        </div>
      </div>
    </header>
    
    <!-- Mobile Reminder Banner -->
    <aside id="mobileReminder" class="mobile-reminder" role="alert" style="display: none;">
      <div class="mobile-reminder-content">
        <div class="mobile-reminder-icon">ðŸ“±</div>
        <div class="mobile-reminder-text">
          <strong>Mobile Device Detected</strong> - For the best experience, please open this website on a desktop computer. The node editor works best with a larger screen and mouse/trackpad.
        </div>
        <button class="mobile-reminder-close" onclick="closeMobileReminder()" aria-label="Close reminder">Ã—</button>
      </div>
    </aside>

    <!-- Demo Warning Banner -->
    <aside class="demo-warning" role="alert">
      <div class="demo-warning-content">
        <div class="demo-warning-text">
          <strong>LIMITED WEB DEMO</strong> - This is a simplified demo with simulated data only. 
          <a href="https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5/releases" target="_blank" rel="noopener noreferrer" class="demo-download-link">
            Download the full desktop version
          </a> for real MT5 trading, backtesting, alerts, and advanced features.
        </div>
      </div>
    </aside>



    <!-- Top Toolbar -->
    <nav class="toolbar" role="navigation" aria-label="Main toolbar">
      <div class="toolbar-left">
        <h2>AI Trade Agent <span class="version-badge">WEB DEMO</span></h2>
        <button id="connectBtn" class="btn btn-primary" aria-label="Connect to demo trading">Connect Demo</button>
        <button id="showLogBtn" class="btn btn-secondary" aria-label="Show console log">Show Log</button>
      </div>
      <div class="toolbar-right">
        <a href="https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5" target="_blank" rel="noopener noreferrer" class="btn btn-github-toolbar" aria-label="View project on GitHub">
          GitHub Project
        </a>
        <button id="aboutBtn" class="btn btn-info" aria-label="About full version">Full Version Info</button>
        <button id="tradeBtn" class="btn btn-success" aria-label="Open new trade">New Trade</button>
        <button id="settingsBtn" class="btn btn-secondary" aria-label="Open settings">Settings</button>
        <button id="helpBtn" class="btn btn-secondary" aria-label="Get help">Help</button>
        <button id="runStrategyBtn" class="btn btn-success" aria-label="Run trading strategy">Run Strategy</button>
        <button id="stopStrategyBtn" class="btn btn-danger" style="display: none;" aria-label="Stop trading strategy">Stop</button>
        <button id="saveGraphBtn" class="btn btn-secondary" aria-label="Save strategy graph">Save</button>
        <button id="loadGraphBtn" class="btn btn-secondary" aria-label="Load strategy graph">Load</button>
        <button id="clearGraphBtn" class="btn btn-danger" aria-label="Clear canvas">Clear</button>
      </div>
    </nav>

    <!-- Main Layout -->
    <main class="main-layout" role="main">
      <div class="top-section">
        <!-- Left Sidebar - Node Palette -->
        <aside class="sidebar left-sidebar" role="complementary" aria-label="Node library">
          <h3>Node Library</h3>
          
          <section class="node-category">
            <h4>Triggers</h4>
            <button class="node-btn trigger-btn" data-type="trigger" aria-label="Add trigger node">Trigger</button>
          </section>

          <section class="node-category">
            <h4>Data</h4>
            <button class="node-btn signal-btn" data-type="string-input" aria-label="Add string input node">String Input</button>
            <button class="node-btn signal-btn" data-type="string-output" aria-label="Add string output node">String Output</button>
            <button class="node-btn signal-btn" data-type="mt5-data" aria-label="Add MT5 data node">MT5 Data</button>
          </section>

          <section class="node-category">
            <h4>Indicators</h4>
            <button class="node-btn" data-type="indicator-ma" aria-label="Add Moving Average indicator">Moving Average</button>
            <button class="node-btn" data-type="indicator-rsi" aria-label="Add RSI indicator">RSI</button>
          </section>

          <section class="node-category">
            <h4>Logic</h4>
            <button class="node-btn" data-type="conditional-check" aria-label="Add conditional check node">Conditional Check</button>
            <button class="node-btn" data-type="logic-and" aria-label="Add AND gate">AND Gate</button>
            <button class="node-btn" data-type="logic-or" aria-label="Add OR gate">OR Gate</button>
          </section>

          <section class="node-category">
            <h4>Trading</h4>
            <button class="node-btn" data-type="trade-signal" aria-label="Add open position node">Open Position</button>
            <button class="node-btn" data-type="close-position" aria-label="Add close position node">Close Position</button>
            <button class="node-btn" data-type="modify-position" aria-label="Add modify position node">Modify Position</button>
          </section>

          <section class="node-category">
            <h4>Control</h4>
            <button class="node-btn control-btn" data-type="end-strategy" aria-label="Add end strategy node">End Strategy</button>
          </section>
        </aside>

        <!-- Center - Node Editor Canvas -->
        <section class="editor-container" aria-label="Strategy canvas">
          <canvas id="nodeCanvas" aria-label="Node editor canvas for building trading strategies"></canvas>
          <div class="canvas-hint">
            Click nodes from the left panel to add them to the canvas<br>
            Connect outputs to inputs to create execution flows<br>
            <strong>Pan:</strong> Space+Drag or Right Mouse<br>
            <strong>Hotkeys:</strong> Ctrl+Z (Undo) | Delete (Remove node)
          </div>
        </section>

        <!-- Right Sidebar -->
        <aside class="sidebar right-sidebar" role="complementary" aria-label="Properties and account info">
          <section class="properties-panel">
            <h3>Properties</h3>
            <div id="nodeProperties">
              <p class="no-selection">Select a node to edit properties</p>
            </div>
          </section>

          <section class="account-panel">
            <h3>Account Info</h3>
            <div class="info-grid">
              <div class="info-item">
                <span class="label">Balance:</span>
                <span id="balance">-</span>
              </div>
              <div class="info-item">
                <span class="label">Equity:</span>
                <span id="equity">-</span>
              </div>
              <div class="info-item">
                <span class="label">Profit:</span>
                <span id="profit" class="profit">-</span>
              </div>
            </div>
            <button id="refreshAccountBtn" class="btn btn-secondary btn-small" aria-label="Refresh account info">Refresh</button>
          </section>
        </aside>
      </div>
    </main>

    <!-- Trade Modal -->
    <dialog id="tradeModal" class="modal" aria-labelledby="tradeModalTitle">
      <div class="modal-content trade-modal">
        <h2 id="tradeModalTitle">Execute Trade</h2>
        <form id="tradeForm">
          <div class="form-group">
            <label for="tradeSymbol">Symbol:</label>
            <select id="tradeSymbol" name="symbol" required>
              <option value="EURUSD">EURUSD</option>
              <option value="GBPUSD">GBPUSD</option>
              <option value="USDJPY">USDJPY</option>
              <option value="AUDUSD">AUDUSD</option>
              <option value="USDCAD">USDCAD</option>
              <option value="XAUUSD">XAUUSD (Gold)</option>
              <option value="BTCUSD">BTCUSD (Bitcoin)</option>
            </select>
          </div>
          <div class="form-group" id="currentPriceGroup">
            <label>Current Price:</label>
            <div class="current-price-display">
              <div class="price-info">
                <span class="price-label">Bid:</span>
                <span id="currentBid" class="price-value">-</span>
              </div>
              <div class="price-info">
                <span class="price-label">Ask:</span>
                <span id="currentAsk" class="price-value">-</span>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="tradeType">Order Type:</label>
            <select id="tradeType" name="orderType" required>
              <option value="BUY">Buy</option>
              <option value="SELL">Sell</option>
            </select>
          </div>
          <div class="form-group">
            <label for="tradeVolume">Volume:</label>
            <input type="number" id="tradeVolume" name="volume" step="0.01" min="0.01" value="0.1" required>
          </div>
          <div class="form-group">
            <label for="tradeStopLoss">Stop Loss:</label>
            <input type="number" id="tradeStopLoss" name="stopLoss" step="0.00001" placeholder="Enter stop loss" required>
          </div>
          <div class="form-group">
            <label for="tradeTakeProfit">Take Profit:</label>
            <input type="number" id="tradeTakeProfit" name="takeProfit" step="0.00001" placeholder="Enter take profit" required>
          </div>
          <div class="modal-buttons">
            <button type="submit" id="confirmTradeBtn" class="btn btn-primary">Execute Trade</button>
            <button type="button" id="cancelTradeBtn" class="btn btn-secondary">Cancel</button>
          </div>
        </form>
      </div>
    </dialog>

    <!-- Settings Modal -->
    <dialog id="settingsModal" class="modal" aria-labelledby="settingsModalTitle">
      <div class="modal-content">
        <h2 id="settingsModalTitle">Settings</h2>
        <div class="settings-content">
          <div class="form-group">
            <label for="initialBalance">Initial Balance:</label>
            <input type="number" id="initialBalance" value="10000" step="1000">
          </div>
          <button id="resetSimulatorBtn" class="btn btn-warning">Reset Simulator</button>
        </div>
        <div class="modal-buttons">
          <button id="closeSettingsBtn" class="btn btn-primary">Close</button>
        </div>
      </div>
    </dialog>

    <!-- Log Modal -->
    <dialog id="logModal" class="modal" aria-labelledby="logModalTitle">
      <div class="modal-content log-modal">
        <h2 id="logModalTitle">Console Log</h2>
        <div id="logContent" class="log-content" role="log" aria-live="polite">
          <p class="no-log">No log entries yet.</p>
        </div>
        <div class="modal-buttons">
          <button id="clearLogBtn" class="btn btn-secondary">Clear</button>
          <button id="closeLogBtn" class="btn btn-primary">Close</button>
        </div>
      </div>
    </dialog>

    <!-- About Modal -->
    <dialog id="aboutModal" class="modal" aria-labelledby="aboutModalTitle">
      <div class="modal-content about-modal">
        <h2 id="aboutModalTitle">Get the Full ComfyTrade Desktop Version</h2>
        <div class="about-content">
          
          <div class="about-highlight-box">
            <h3>This is a Limited Web Demo</h3>
            <p>You're currently using a simplified browser version with simulated data. The full desktop application offers significantly more features and real MT5 integration.</p>
          </div>
          
          <section class="about-section">
            <h3>What You Get in the Full Desktop Version</h3>
            <ul class="feature-list-large">
              <li><strong>Real MT5 Integration</strong> - Connect directly to your MetaTrader 5 terminal for live trading</li>
              <li><strong>Historical Backtesting</strong> - Import and test strategies against years of historical data</li>
              <li><strong>Advanced Risk Management</strong> - Volume limits, overtrade protection, pip-based loss calculations</li>
              <li><strong>SMS/WhatsApp Alerts</strong> - Get instant notifications via Twilio for all trade events</li>
              <li><strong>Custom Indicators</strong> - Moving Average, RSI, Bollinger Bands, and more technical indicators</li>
              <li><strong>Plugin System</strong> - Create custom nodes for any data source, API, or trading logic</li>
              <li><strong>Market Sentiment Analysis</strong> - Integrate news feeds and sentiment data into your strategies</li>
              <li><strong>Trade Journal & Analytics</strong> - Track performance, analyze trades, and improve your strategy</li>
              <li><strong>Cross-Platform Desktop App</strong> - Works on Windows, Mac, and Linux</li>
            </ul>
          </section>
          
          <section class="about-section">
            <h3>Watch ComfyTrade in Action</h3>
            <div class="video-section">
              <p>See a complete walkthrough of ComfyTrade's features and capabilities:</p>
              <div class="youtube-embed-container">
                <iframe 
                  class="youtube-embed"
                  src="https://www.youtube.com/embed/M4PLVVUaQo8" 
                  title="ComfyTrade Demo Video"
                  frameborder="0" 
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                  allowfullscreen>
                </iframe>
              </div>
              <a href="https://www.youtube.com/watch?v=M4PLVVUaQo8&feature=youtu.be" target="_blank" rel="noopener noreferrer" class="btn-mega btn-mega-youtube" style="margin-top: 15px;">
                <div class="btn-mega-content">
                  <strong>Watch on YouTube</strong>
                  <small>Open in YouTube for full screen viewing</small>
                </div>
              </a>
            </div>
          </section>
          
          <section class="about-section">
            <h3>Download & Install</h3>
            <div class="cta-buttons-large">
              <a href="https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5/releases" target="_blank" rel="noopener noreferrer" class="btn-mega btn-mega-primary">
                <div class="btn-mega-content">
                  <strong>Download Full Version</strong>
                  <small>Get the latest release for Windows, Mac, or Linux</small>
                </div>
              </a>
              <a href="https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5" target="_blank" rel="noopener noreferrer" class="btn-mega btn-mega-secondary">
                <div class="btn-mega-content">
                  <strong>View on GitHub</strong>
                  <small>Star the project â€¢ Read documentation â€¢ Contribute</small>
                </div>
              </a>
            </div>
          </section>

          <section class="about-section">
            <h3>Need Help or Have Questions?</h3>
            <div class="contact-grid">
              <a href="https://discord.com/invite/4EWYahsGdJ" target="_blank" rel="noopener noreferrer" class="contact-card">
                <div class="contact-card-content">
                  <strong>Join Discord Community</strong>
                  <span>Chat with traders â€¢ Get help â€¢ Share strategies</span>
                </div>
              </a>
              <a href="mailto:tomtomtongtong@gmail.com" class="contact-card">
                <div class="contact-card-content">
                  <strong>Email Support</strong>
                  <span>tomtomtongtong@gmail.com</span>
                </div>
              </a>
              <a href="https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5/issues" target="_blank" rel="noopener noreferrer" class="contact-card">
                <div class="contact-card-content">
                  <strong>Report Issues</strong>
                  <span>Bug reports & feature requests</span>
                </div>
              </a>
              <a href="https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5/discussions" target="_blank" rel="noopener noreferrer" class="contact-card">
                <div class="contact-card-content">
                  <strong>Community Discussions</strong>
                  <span>Ask questions & share strategies</span>
                </div>
              </a>
            </div>
          </section>
          
          <footer class="about-footer-large">
            <p class="about-footer-main">Open Source â€¢ MIT License â€¢ Free Forever</p>
            <p class="about-footer-sub">Made with love by the ComfyTrade community</p>
          </footer>
        </div>
        <div class="modal-buttons">
          <button id="closeAboutBtn" class="btn btn-primary">Close</button>
        </div>
      </div>
    </dialog>

    <!-- Message Box -->
    <div id="messageBox" class="message-box" role="alert" aria-live="assertive"></div>
  </div>

  <!-- Visitor Stats Banner -->
  <div class="visitor-stats-banner">
    <div class="visitor-stats-content">
      <div class="visitor-stat">
        <div class="visitor-info">
          <span class="visitor-count" id="totalVisitors">Loading...</span>
          <span class="visitor-label">Total Visitors</span>
        </div>
      </div>
      <div class="visitor-stat">
        <div class="visitor-info">
          <span class="visitor-count" id="todayVisitors">Loading...</span>
          <span class="visitor-label">Today</span>
        </div>
      </div>
      <div class="visitor-stat">
        <div class="visitor-info">
          <span class="visitor-count">Free & Open Source</span>
          <span class="visitor-label">MIT License</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer with SEO content -->
  <footer class="site-footer" style="background:#0d0d1a;color:#888;padding:20px;text-align:center;font-size:12px;">
    <p>AI Trade Agent - Free Open Source MT5 Node-Based Trading Strategy Builder</p>
    <p>Build automated forex trading strategies visually without coding. Connect to MetaTrader 5 for live trading.</p>
    <nav aria-label="Footer links">
      <a href="https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5" target="_blank" rel="noopener noreferrer" style="color:#4a9eff;margin:0 10px;">GitHub</a>
      <a href="https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5/releases" target="_blank" rel="noopener noreferrer" style="color:#4a9eff;margin:0 10px;">Download</a>
      <a href="https://discord.com/invite/4EWYahsGdJ" target="_blank" rel="noopener noreferrer" style="color:#4a9eff;margin:0 10px;">Discord</a>
      <a href="https://github.com/tomtomtong/comfyTrade-node-editor-for-MT5#readme" target="_blank" rel="noopener noreferrer" style="color:#4a9eff;margin:0 10px;">Documentation</a>
      <a href="mailto:tomtomtongtong@gmail.com" style="color:#4a9eff;margin:0 10px;">Contact</a>
    </nav>
    <p style="margin-top:10px;">Â© 2024 AI Trade Agent. MIT License. Free and Open Source.</p>
  </footer>

  <script src="api.js"></script>
  <script src="node-editor.js"></script>
  <script src="app.js"></script>
  
  <!-- Mobile Detection and Reminder -->
  <script>
    function isMobileDevice() {
      return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || 
             (window.innerWidth <= 768 && window.innerHeight <= 1024);
    }
    
    function showMobileReminder() {
      if (isMobileDevice()) {
        const reminder = document.getElementById('mobileReminder');
        if (reminder) {
          reminder.style.display = 'block';
        }
      }
    }
    
    document.addEventListener('DOMContentLoaded', showMobileReminder);
    
    // Close mobile reminder
    function closeMobileReminder() {
      const reminder = document.getElementById('mobileReminder');
      if (reminder) {
        reminder.style.display = 'none';
      }
    }
    
    window.closeMobileReminder = closeMobileReminder;
  </script>
  
  <!-- Visitor Stats Script -->
  <script>
    // Load visitor stats
    async function loadVisitorStats() {
      try {
        const response = await fetch('/api/visitor-stats');
        const result = await response.json();
        
        if (result.success) {
          const totalElement = document.getElementById('totalVisitors');
          const todayElement = document.getElementById('todayVisitors');
          
          if (totalElement) {
            totalElement.textContent = result.data.totalVisitors.toLocaleString();
          }
          if (todayElement) {
            todayElement.textContent = result.data.todayVisitors.toLocaleString();
          }
        }
      } catch (error) {
        console.log('Could not load visitor stats:', error);
        // Fallback display
        const totalElement = document.getElementById('totalVisitors');
        const todayElement = document.getElementById('todayVisitors');
        if (totalElement) totalElement.textContent = '---';
        if (todayElement) todayElement.textContent = '---';
      }
    }
    
    // Load stats when page loads
    document.addEventListener('DOMContentLoaded', loadVisitorStats);
    
    // Refresh stats every 30 seconds
    setInterval(loadVisitorStats, 30000);
  </script>
  
  <!-- Google Analytics Event Tracking -->
  <script>
    // Track demo interactions when elements are available
    document.addEventListener('DOMContentLoaded', function() {
      // Track button clicks
      const trackButton = (id, eventName, label) => {
        const btn = document.getElementById(id);
        if (btn) {
          btn.addEventListener('click', () => {
            if (typeof trackEvent === 'function') {
              trackEvent(eventName, { label: label });
            }
          });
        }
      };
      
      // Track key demo interactions
      trackButton('connectBtn', 'demo_connect', 'connect_demo');
      trackButton('tradeBtn', 'demo_trade', 'open_trade_modal');
      trackButton('runStrategyBtn', 'demo_strategy', 'run_strategy');
      trackButton('aboutBtn', 'demo_about', 'view_full_version_info');
      trackButton('saveGraphBtn', 'demo_save', 'save_strategy');
      trackButton('loadGraphBtn', 'demo_load', 'load_strategy');
      trackButton('clearGraphBtn', 'demo_clear', 'clear_canvas');
      
      // Track external links
      const trackExternalLink = (selector, eventName, label) => {
        document.querySelectorAll(selector).forEach(link => {
          link.addEventListener('click', () => {
            if (typeof trackEvent === 'function') {
              trackEvent(eventName, { 
                label: label,
                link_url: link.href 
              });
            }
          });
        });
      };
      
      trackExternalLink('a[href*="github.com"]', 'external_link', 'github_click');
      trackExternalLink('a[href*="releases"]', 'external_link', 'download_click');
      trackExternalLink('a[href*="youtube.com"]', 'external_link', 'youtube_video_click');
      trackExternalLink('a[href*="discord.com"]', 'external_link', 'discord_click');
      trackExternalLink('a[href^="mailto:"]', 'external_link', 'email_click');
      
      // Track node additions (if node editor is available)
      document.querySelectorAll('.node-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          if (typeof trackEvent === 'function') {
            trackEvent('demo_node_add', { 
              label: btn.getAttribute('data-type') || 'unknown_node'
            });
          }
        });
      });
      
      // Track modal opens
      const trackModal = (modalId, eventName) => {
        const modal = document.getElementById(modalId);
        if (modal) {
          const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
              if (mutation.type === 'attributes' && mutation.attributeName === 'style') {
                if (modal.style.display !== 'none' && modal.style.display !== '') {
                  if (typeof trackEvent === 'function') {
                    trackEvent('modal_open', { label: eventName });
                  }
                }
              }
            });
          });
          observer.observe(modal, { attributes: true });
        }
      };
      
      trackModal('tradeModal', 'trade_modal');
      trackModal('aboutModal', 'about_modal');
      trackModal('settingsModal', 'settings_modal');
      trackModal('logModal', 'log_modal');
    });
  </script>
</body>
</html>